/*
Package: jquery.x
Version: 2.0.0
Build Date: 06-15-2015 12:26:57AM
*/
!function(a){"use strict";var b=function(){var b={_abstractController:{_id:!1,_addExtension:function(a,b){this[a]=b},$:function(b){var c=a('[data-x-controller="'+this._id+'"]');return b?c.find(b):c}},_addExtension:function(a,b){this[a]=b},_myController:function(b){var c=a(b).parents("[data-x-controller]")[0];return c?c.attributes["data-x-controller"].value:!1},_controllers:{},extend:{x:function(b,c){return a.type(b)===a.x.type.string&&b?a.type(c)!==a.x.type["function"]?a.x.error("Extension factory must be a function"):void a.x._addExtension(b,c()):a.x.error("Extension ID must be a string")},controller:function(b,c){return a.type(b)===a.x.type.string&&b?a.type(c)!==a.x.type["function"]?a.x.error("Extension factory must be a function"):void a.x._abstractController._addExtension(b,c()):a.x.error("Extension ID must be a string")}},controller:function(b,c){if(!b)return this.error("A controller ID is required");var d=!1;if(c||this.isController(b)||(d=!0),!this.isController(b)){var e=a('[data-x-controller="'+b+'"]');if(0===e.length)return this.error("Controller binding could not be found");if(e.length>1)return this.error("Controllers can only be bound once");var f=this;this._controllers[b]=function(b){var c,d=a("[data-x-controller="+b+"]").parents("[data-x-controller]");if(d.length>0){var e=d[0],g=a(e).attr("data-x-controller"),h=f.controller(g);c=Object.create(h)}else c=Object.create(f._abstractController);return c._id=b,c}(b)}return c&&(d=!0,c(this._controllers[b])),d&&this._controllers[b].apply(),this._controllers[b]},isController:function(a){return this._controllers[a]?!0:!1},error:function(a){var b="            _  _      ___  ____  ____ __   ___\n ________  | |/ /    / _ |  __/|  __/ _ `|  __|  ________\n/___/___/   >  <    |  __/ |   | | | (_) | |    /___/___/\n           /_/|_|    |___|_|   |_| |____/|_|\n";window.console&&console.debug&&console.debug(b);var c=new Error(a);return window.console&&console.log&&console.log(c.stack),c}};return b.type={},b.type.object="object",b.type["function"]="function",b.type.string="string",b.type.undefined="undefined",b.type.array="array",b.type["boolean"]="boolean",b};a.x=b()}(jQuery),function(a){a(function(){a.x.extend.x("_events",function(){return{}}),a.x.extend.x("broadcast",function(){return function(b,c){return a.type(b)===a.x.type.string&&b?void(a.x._events[b]&&a.each(a.x._events[b],function(a,b){b(c)})):a.x.error("Event ID must be a string")}}),a.x.extend.x("on",function(){return function(b,c){return a.type(b)===a.x.type.string&&b?a.type(c)!==a.x.type["function"]?a.x.error("Event handler must be a function"):(a.x._events[b]||(a.x._events[b]=[]),a.x._events[b].push(c),this):a.x.error("Event ID must be a string")}})})}(jQuery),function(a){a(function(){a.x.extend.controller("accessor",function(){return function(b,c){if("string"!==a.type(b))return a.x.error("Property must be a string");var d=b.split("."),e=this;return a.type(c)===a.x.type.undefined?(a.each(d,function(a,b){if("parent()"===b){if("function"!=typeof e.parent)return!1;e=e.parent()}else{if(!e)return;e=function(a,b){return a[b]}(e,b)}}),e):(a.each(d,function(b,f){if("parent()"===f){if("function"!=typeof e.parent)return!1;e=e.parent()}else d.length===b+1?e[f]=c:e&&(e=function(){return e[f]||(e[f]={}),a.type(e[f])!==a.x.type.object&&a.type(e[f])!==a.x.type.array?!1:e[f]}())}),e?this:!1)}})})}(jQuery),function(a){a(function(){a.x.extend.controller("children",function(){return function(){var b=this,c=b.$("[data-x-controller]");if(c.length>0){var d=[];return c.each(function(){var c=a(this).attr("data-x-controller"),e=a.x.controller(c);e.parent()._id===b._id&&d.push(e)}),d}return!1}})})}(jQuery),function(a){a(function(){a.x.extend.controller("parent",function(){return function(){var a=Object.getPrototypeOf(this);return a._id?a:!1}})})}(jQuery),function(a){a(function(){a.x.extend.controller("_update",function(){return!1}),a.x.extend.controller("update",function(){return function(a){this._update||(this._update=[]),this._update.push(a)}}),a.x.extend.controller("_applyBefore",function(){return[]}),a.x.extend.controller("_apply",function(){return[]}),a.x.extend.controller("apply",function(){return function(){var b=this;a.each(this._applyBefore,function(c,d){a.type(d)===a.x.type["function"]&&d(b)}),this._update&&a.each(this._update,function(c,d){a.type(d)===a.x.type["function"]&&d(b)}),a.each(this._apply,function(c,d){a.type(d)===a.x.type["function"]&&d(b)});var c=this.children();c&&a.each(c,function(a,b){b.apply()})}}),a.x.extend.apply=function(b,c){var d,e;return a.type(b)===a.x.type["boolean"]?(d=b,e=c):(d=!1,e=b),a.type(e)!==a.x.type["function"]?a.x.error("Apply function must be a function"):void(d?a.x._abstractController._applyBefore.push(e):a.x._abstractController._apply.push(e))},a.x.extend.controller("_oneWayBinds",function(){return function(){var b=new a,c=this;return this.$("[data-x-bind]").each(function(){var d=this;a.x._myController(d)===c._id&&b.push(d)}),b}}),a.x.extend.controller("_twoWayBinds",function(){return function(){var b=new a,c=this;return this.$("[data-x-bind]:not(.x-mvvm)").each(function(){var d=this;a.x._myController(d)===c._id&&b.push(d)}),b}}),a.x.extend.apply(function(b){var c=b._twoWayBinds();c.length>0&&(c.on("change.x keyup.x",function(){if("INPUT"!==this.tagName||"text"!==this.type&&"password"!==this.type){var c;c="INPUT"===this.tagName&&"checkbox"===this.type?this.checked:this.value,b.accessor(a(this).attr("data-x-bind"),c),b.apply()}else a(this).data("val")!==this.value&&(b.accessor(a(this).attr("data-x-bind"),this.value),b.apply()),a(this).data("val",this.value)}),c.addClass("x-mvvm")),b._oneWayBinds().each(function(){var c=this,d=a(c),e=c.tagName,f=b.accessor(d.attr("data-x-bind"));if(!d.is(":focus"))switch(e){case"INPUT":"radio"===d.attr("type")?d.val()===f?d.prop("checked",!0):d.prop("checked",!1):"checkbox"===d.attr("type")?f?d.prop("checked",!0):d.prop("checked",!1):d.val(f);break;case"SELECT":d.val(f);break;case"TEXTAREA":d.val(f);break;default:d.html(f)}})})})}(jQuery),function(a){a(function(){a.x.extend.x("_plugins",function(){return{}}),a.x.extend.x("plugin",function(){return function(b,c,d){var e,f,g;return a.type(c)===a.x.type["boolean"]?(f=b,e=c,g=d):(f=b,e=!1,g=c),a.type(f)===a.x.type.string&&f?a.type(g)!==a.x.type["function"]?this.error("plugin initHandler must be a function"):void(this._plugins[f]={controller:e,handler:g}):this.error("plugin name must be a string")}}),a.x.extend.apply(function(b){var c=b.$("[data-x-plugin]:not(.x-plugin)");if(c&&c.length>0){var d=!1;a.each(c,function(c,e){if(a.x._myController(e)===b._id){a(e).addClass("x-plugin");var f=a(e).attr("data-x-plugin").split(" ");a.each(f,function(b,c){if(!a.x._plugins[c])return a.x.error('The plugin "'+c+'" is not defined');if(a.x._plugins[c].controller){var f,g;a(e).attr("data-x-controller")?f=a(e).attr("data-x-controller"):(f="plugin-x-"+Math.floor(16777216*(1+Math.random())).toString(16).substring(1),a(e).attr("data-x-controller",f)),g=a.x.controller(f),a.x._plugins[c].handler(a(e),g)}else d=!0,a.x._plugins[c].handler(a(e))})}}),d&&a.each(b._apply,function(c,d){a.type(d)===a.x.type["function"]&&d(b)})}})})}(jQuery);