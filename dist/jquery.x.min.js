/*
Package: jquery.x
Version: 1.4.0
Build Date: 03-20-2015 12:19:18PM
*/
!function(a){"use strict";var b=function(){var b={_abstractView:{_id:!1,_addExtension:function(a,b){this[a]=b}},_abstractController:{_id:!1,_addExtension:function(a,b){this[a]=b},_dom:function(){return a('[data-x-controller="'+this._id+'"]')}},_addExtension:function(a,b){this[a]=b},_myController:function(b){var c=a(b).parents("[data-x-controller]")[0];return c?c.attributes["data-x-controller"].value:!1},_controllers:{},extend:{x:function(b,c){return a.type(b)===a.x.type.string&&b?a.type(c)!==a.x.type["function"]?a.x.error("Extension factory must be a function"):void a.x._addExtension(b,c()):a.x.error("Extension ID must be a string")},controller:function(b,c){return a.type(b)===a.x.type.string&&b?a.type(c)!==a.x.type["function"]?a.x.error("Extension factory must be a function"):void a.x._abstractController._addExtension(b,c()):a.x.error("Extension ID must be a string")},view:function(b,c){return a.type(b)===a.x.type.string&&b?a.type(c)!==a.x.type["function"]?a.x.error("Extension factory must be a function"):void a.x._abstractView._addExtension(b,c()):a.x.error("Extension ID must be a string")}},controller:function(b,c){if(!b)return this.error("A controller ID is required");if(!this.isController(b)){var d=a('[data-x-controller="'+b+'"]');if(0===d.length)return this.error("Controller binding could not be found");if(d.length>1)return this.error("Controllers can only be bound once");var e=this;this._controllers[b]=function(b){var c,d=a("[data-x-controller="+b+"]").parents("[data-x-controller]");if(d.length>0){var f=d[0],g=a(f).attr("data-x-controller"),h=e.controller(g);c=Object.create(h)}else c=Object.create(e._abstractController);return c._id=b,c._view=function(){var a=c.parent();return Object.create(a?a._view:e._abstractView)}(),c._view._id=b,c}(b)}return c&&(c(this._controllers[b],this._controllers[b]._view),a.type(this._controllers[b]._view.apply)===this.type["function"]&&this._controllers[b]._view.apply()),this._controllers[b]},isController:function(a){return this._controllers[a]?!0:!1},error:function(a){var b="            _  _      ___  ____  ____ __   ___\n ________  | |/ /    / _ |  __/|  __/ _ `|  __|  ________\n/___/___/   >  <    |  __/ |   | | | (_) | |    /___/___/\n           /_/|_|    |___|_|   |_| |____/|_|\n";window.console&&console.debug&&console.debug(b);var c=new Error(a);return window.console&&console.log&&console.log(c.stack),c}};return b.type={},b.type.object="object",b.type["function"]="function",b.type.string="string",b.type.undefined="undefined",b.type.array="array",b.type["boolean"]="boolean",b};a.x=b()}(jQuery),function(a){a(function(){a.x.extend.x("_events",function(){return{}}),a.x.extend.x("broadcast",function(){return function(b,c){return a.type(b)===a.x.type.string&&b?void(a.x._events[b]&&a.each(a.x._events[b],function(a,b){b(c)})):a.x.error("Event ID must be a string")}}),a.x.extend.x("on",function(){return function(b,c){return a.type(b)===a.x.type.string&&b?a.type(c)!==a.x.type["function"]?a.x.error("Event handler must be a function"):(a.x._events[b]||(a.x._events[b]=[]),a.x._events[b].push(c),this):a.x.error("Event ID must be a string")}})})}(jQuery),function(a){a(function(){a.x.extend.controller("accessor",function(){return function(b,c){if("string"!==a.type(b))return a.x.error("Property must be a string");var d=b.split("."),e=this;return a.type(c)===a.x.type.undefined?(a.each(d,function(a,b){if("parent()"===b){if("function"!=typeof e.parent)return!1;e=e.parent()}else{if(!e)return;e=function(a,b){return a[b]}(e,b)}}),e):(a.each(d,function(b,f){if("parent()"===f){if("function"!=typeof e.parent)return!1;e=e.parent()}else d.length===b+1?e[f]=c:e&&(e=function(){return e[f]||(e[f]={}),a.type(e[f])!==a.x.type.object&&a.type(e[f])!==a.x.type.array?!1:e[f]}())}),e?this:!1)}})})}(jQuery),function(a){a(function(){a.x.extend.controller("children",function(){return function(){var b=this,c=b._dom().find("[data-x-controller]");if(c.length>0){var d=[];return c.each(function(){var c=a(this).attr("data-x-controller"),e=a.x.controller(c);e.parent()._id===b._id&&d.push(e)}),d}return!1}})})}(jQuery),function(a){a(function(){a.x.extend.controller("parent",function(){return function(){var a=Object.getPrototypeOf(this);return a._id?a:!1}})})}(jQuery),function(a){a(function(){a.x.extend.view("accessor",function(){return function(b,c){if("string"!==a.type(b))return a.x.error("Property must be a string");var d=b.split("."),e=this;return a.type(c)===a.x.type.undefined?(a.each(d,function(a,b){if("parent()"===b){if("function"!=typeof e.parent)return!1;e=e.parent()}else{if(!e)return;e=function(a,b){return a[b]}(e,b)}}),e):(a.each(d,function(b,f){if("parent()"===f){if("function"!=typeof e.parent)return!1;e=e.parent()}else d.length===b+1?e[f]=c:e&&(e=function(){return e[f]||(e[f]={}),a.type(e[f])!==a.x.type.object&&a.type(e[f])!==a.x.type.array?!1:e[f]}())}),e?this:!1)}})})}(jQuery),function(a){a(function(){a.x.extend.view("node",function(){return function(b){var c=a.x.controller(this._id);return a.type(b)!==a.x.type.undefined?c._dom().find('[data-x-node="'+b+'"]'):c._dom()}})})}(jQuery),function(a){a(function(){a.x.extend.view("parent",function(){return function(){return Object.getPrototypeOf(this)}})})}(jQuery),function(a){a(function(){a.x.aspect("x",function(b,c){if(c.dataClick){var d=c.dataClick,e=b[0],f=c;b.on("click.x",function(c){var g=a.x.controller(a.x._myController(e)),h=g.accessor(d);a.type(h)===a.x.type["function"]&&h(c,b,f)})}})})}(jQuery);